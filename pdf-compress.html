<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Compress PDF files online with multiple compression levels. Reduce PDF size while maintaining quality. Fast, secure, and free!">
  <meta name="keywords" content="PDF Compressor, Compress PDF, Reduce PDF Size, PDF Optimization">
  <meta name="author" content="Sujal">
  <title>PDF Compressor - Reduce PDF File Size Online</title>
  <style>
    /* General Styles */
    body {
      font-family: 'Arial', sans-serif;
      margin: 0;
      padding: 0;
      background-color: #fff0f5; /* Light pink background */
      color: #333;
      transition: background-color 0.5s ease, color 0.5s ease;
    }

    body.dark-mode {
      background-color: #1a1a1a; /* Dark background */
      color: #f4f4f4; /* Light text */
    }

    header {
      text-align: center;
      padding: 40px 20px;
      background: linear-gradient(135deg, #ff6f61, #ff3b3f); /* Gradient header */
      color: white;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      transition: background 0.5s ease;
    }

    body.dark-mode header {
      background: linear-gradient(135deg, #333, #555); /* Dark gradient header */
    }

    header h1 {
      margin: 0;
      font-size: 2.5rem;
    }

    header p {
      margin: 10px 0 0;
      font-size: 1.2rem;
    }

    main {
      padding: 20px;
      max-width: 1200px;
      margin: 0 auto;
    }

    .upload-section, .compression-settings, .file-preview, .progress-section, .download-options {
      margin-bottom: 30px;
      background: white;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      transition: transform 0.3s ease, box-shadow 0.3s ease, background 0.5s ease;
    }

    body.dark-mode .upload-section,
    body.dark-mode .compression-settings,
    body.dark-mode .file-preview,
    body.dark-mode .progress-section,
    body.dark-mode .download-options {
      background: #333; /* Dark background for sections */
      color: #f4f4f4; /* Light text */
    }

    .upload-section:hover, .compression-settings:hover, .file-preview:hover, .progress-section:hover, .download-options:hover {
      transform: translateY(-5px);
      box-shadow: 0 8px 12px rgba(0, 0, 0, 0.15);
    }

    .upload-box {
      text-align: center;
      padding: 40px 20px;
      border: 2px dashed #ff6f61; /* Pink border */
      border-radius: 10px;
      background-color: #fffafa; /* Light pink background */
      cursor: pointer;
      transition: background-color 0.3s ease;
    }

    body.dark-mode .upload-box {
      border-color: #ff6f61; /* Pink border in dark mode */
      background-color: #444; /* Dark background for upload box */
    }

    .upload-box:hover {
      background-color: #ffe6e6; /* Lighter pink on hover */
    }

    .upload-box p {
      margin: 0;
      font-size: 1.1rem;
      color: #ff3b3f; /* Pink text */
    }

    .upload-box input {
      display: none;
    }

    .file-preview {
      display: flex;
      justify-content: space-between;
      gap: 20px;
    }

    .before, .after {
      width: 48%;
      text-align: center;
    }

    .before h3, .after h3 {
      margin-bottom: 10px;
      font-size: 1.5rem;
      color: #ff3b3f; /* Pink text */
    }

    body.dark-mode .before h3,
    body.dark-mode .after h3 {
      color: #ff6f61; /* Pink text in dark mode */
    }

    iframe {
      border: 1px solid #ddd;
      border-radius: 5px;
      background: #f9f9f9;
      width: 100%;
      height: 300px;
    }

    .compression-settings {
      text-align: center;
    }

    .compression-settings select {
      padding: 10px;
      border: 1px solid #ff6f61; /* Pink border */
      border-radius: 5px;
      font-size: 1rem;
      margin-right: 10px;
      background-color: #fffafa; /* Light pink background */
      color: #333;
      transition: background-color 0.5s ease, color 0.5s ease;
    }

    body.dark-mode .compression-settings select {
      background-color: #444; /* Dark background for select */
      color: #f4f4f4; /* Light text */
    }

    .compression-settings button {
      padding: 10px 20px;
      border: none;
      border-radius: 5px;
      background-color: #ff6f61; /* Pink button */
      color: white;
      font-size: 1rem;
      cursor: pointer;
      transition: background-color 0.3s ease, transform 0.3s ease;
    }

    .compression-settings button:hover {
      background-color: #ff3b3f; /* Darker pink on hover */
      transform: scale(1.05);
    }

    .progress-section {
      text-align: center;
    }

    progress {
      width: 100%;
      height: 10px;
      border-radius: 5px;
      background: #f4f4f4;
    }

    progress::-webkit-progress-bar {
      background: #f4f4f4;
      border-radius: 5px;
    }

    progress::-webkit-progress-value {
      background: #ff6f61; /* Pink progress bar */
      border-radius: 5px;
      transition: width 0.3s ease;
    }

    .progress-section p {
      margin-top: 10px;
      font-size: 1.1rem;
      color: #ff3b3f; /* Pink text */
    }

    .download-options {
      display: flex;
      justify-content: center;
      gap: 20px;
    }

    .download-options button {
      padding: 12px 24px;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      background-color: #28a745; /* Green button */
      color: white;
      font-size: 1rem;
      transition: background-color 0.3s ease, transform 0.3s ease;
    }

    .download-options button:hover {
      background-color: #218838; /* Darker green on hover */
      transform: scale(1.05);
    }

    footer {
      text-align: center;
      padding: 20px;
      background: #333;
      color: white;
      margin-top: 40px;
    }

    /* Dark Mode Toggle Button */
    .dark-mode-toggle {
      position: fixed;
      top: 20px;
      right: 20px;
      background-color: #ff6f61; /* Pink button */
      color: white;
      border: none;
      border-radius: 50%;
      width: 50px;
      height: 50px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      transition: background-color 0.3s ease, transform 0.3s ease;
    }

    .dark-mode-toggle:hover {
      background-color: #ff3b3f; /* Darker pink on hover */
      transform: scale(1.1);
    }

    /* Responsive Design */
    @media (max-width: 768px) {
      .file-preview {
        flex-direction: column;
      }
      .before, .after {
        width: 100%;
      }
    }
  </style>
</head>
<body>
  <!-- Dark Mode Toggle Button -->
  <button class="dark-mode-toggle" id="dark-mode-toggle">üåô</button>

  <header>
    <h1>PDF Compressor</h1>
    <p>Reduce PDF file size online with ease.</p>
  </header>

  <main>
    <!-- File Upload Section -->
    <section class="upload-section">
      <div class="upload-box" id="upload-box">
        <p>üìÇ Drag & drop PDF files here or click to upload</p>
        <input type="file" id="file-upload" accept=".pdf">
      </div>
    </section>

    <!-- Compression Settings -->
    <section class="compression-settings">
      <h2>Compression Level</h2>
      <select id="compression-level">
        <option value="low">Low Compression</option>
        <option value="recommend">Recommended Compression</option>
        <option value="extreme">Extreme Compression</option>
      </select>
      <button id="start-compression">‚ö° Start Compression</button>
    </section>

    <!-- File Preview -->
    <section class="file-preview">
      <div class="before">
        <h3>Before Compression</h3>
        <p>File Size: <span id="original-size">0 MB</span></p>
        <iframe id="preview-before" src=""></iframe>
      </div>
      <div class="after">
        <h3>After Compression</h3>
        <p>File Size: <span id="compressed-size">0 MB</span></p>
        <iframe id="preview-after" src=""></iframe>
      </div>
    </section>

    <!-- Progress Bar -->
    <section class="progress-section">
      <progress id="compression-progress" value="0" max="100"></progress>
      <p id="progress-text">0% Complete</p>
    </section>

    <!-- Download Options -->
    <section class="download-options">
      <button id="download-single">‚¨áÔ∏è Download Compressed PDF</button>
    </section>
  </main>

  <footer>
    <p>¬© 2023 PDF Compressor. All rights reserved.</p>
  </footer>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const uploadBox = document.getElementById('upload-box');
      const fileUpload = document.getElementById('file-upload');
      const compressionLevel = document.getElementById('compression-level');
      const startCompression = document.getElementById('start-compression');
      const originalSize = document.getElementById('original-size');
      const compressedSize = document.getElementById('compressed-size');
      const previewBefore = document.getElementById('preview-before');
      const previewAfter = document.getElementById('preview-after');
      const progressBar = document.getElementById('compression-progress');
      const progressText = document.getElementById('progress-text');
      const downloadSingle = document.getElementById('download-single');
      const darkModeToggle = document.getElementById('dark-mode-toggle');

      let files = [];
      let compressedFileUrl = null;

      // File Upload Handler
      uploadBox.addEventListener('click', () => fileUpload.click());
      uploadBox.addEventListener('dragover', (e) => {
        e.preventDefault();
        uploadBox.style.backgroundColor = '#ffe6e6';
      });
      uploadBox.addEventListener('dragleave', () => {
        uploadBox.style.backgroundColor = '#fffafa';
      });
      uploadBox.addEventListener('drop', (e) => {
        e.preventDefault();
        uploadBox.style.backgroundColor = '#fffafa';
        files = Array.from(e.dataTransfer.files);
        handleFiles(files);
      });
      fileUpload.addEventListener('change', (e) => {
        files = Array.from(e.target.files);
        handleFiles(files);
      });

      // Handle Uploaded Files
      function handleFiles(files) {
        if (files.length > 0) {
          const file = files[0];
          originalSize.textContent = `${(file.size / 1024 / 1024).toFixed(2)} MB`;
          previewBefore.src = URL.createObjectURL(file);
        }
      }

      // Start Compression Handler
      startCompression.addEventListener('click', async () => {
        if (files.length === 0) return alert('Please upload a file first.');

        const level = compressionLevel.value;
        progressBar.value = 0;
        progressText.textContent = '0% Complete';

        // Simulate Progress Bar
        for (let i = 0; i <= 100; i++) {
          setTimeout(() => {
            progressBar.value = i;
            progressText.textContent = `${i}% Complete`;
          }, i * 20);
        }

        // Compress PDF using ILovePDF API
        const formData = new FormData();
        formData.append('file', files[0]);

        try {
          const response = await fetch(`https://api.ilovepdf.com/v1/compress?compression_level=${level}`, {
            method: 'POST',
            headers: {
              'Authorization': 'Bearer project_public_7a4c3c39c7cad424d5661a2c0af0324b_kPvUcf3bfc7f3b1a5125128f185d8a5460240', // Replace with your ILovePDF Public Key
            },
            body: formData,
          });

          const data = await response.json();
          if (data.success) {
            compressedFileUrl = data.compressed_file_url;
            compressedSize.textContent = `${(data.compressed_file_size / 1024 / 1024).toFixed(2)} MB`;
            previewAfter.src = compressedFileUrl;
            alert('Compression complete!');
          } else {
            alert('Compression failed. Please try again.');
          }
        } catch (error) {
          console.error('Error compressing PDF:', error);
          alert('An error occurred. Please try again.');
        }
      });

      // Download Handlers
      downloadSingle.addEventListener('click', () => {
        if (!compressedFileUrl) return alert('No compressed file available.');
        const link = document.createElement('a');
        link.href = compressedFileUrl;
        link.download = `compressed_${files[0].name}`;
        link.click();
      });

      // Dark Mode Toggle
      darkModeToggle.addEventListener('click', () => {
        document.body.classList.toggle('dark-mode');
        darkModeToggle.textContent = document.body.classList.contains('dark-mode') ? '‚òÄÔ∏è' : 'üåô';
      });
    });
  </script>
</body>
</html>
